@use '../../tools' as *;

.figure-results {
  &__slider {
    @include centered-block(45rem);
  }

  .slider {
    &__button {
      top: 20rem;
    }
  }

  &__slides {
    @include reset-list();
  }

  &__slide {
    padding: 3rem 0;
    padding-bottom: 5rem;
  }

  .massage-results {
    &__slide-title {
      max-width: 30rem;
    }

    &__label {
      padding: 0;
    }

    &__photo {
      position: relative;
      z-index: 1;

      min-width: 16rem;

      text-align: center;

      transform: none;

      &::before {
        @include absolute-centered();
        @include box(100%);

        content: '';
        z-index: -1;

        background-color: $alt-default-color;
      }
    }
  }

  &__description {
    @include centered-block(34rem);

    margin-top: 1rem;
    padding: 0 2.4rem;

    &_one {
      margin-top: 2.4rem;
    }
  }
}

.theme-7 {
  .figure-results {
    &__slide {
      background-color: map-deep-get($themes, '7', 'background');
    }
  }
}

.theme-main {
  .figure-results {
    &__slide {
      background-color: map-deep-get($themes, 'main', 'background');
    }
  }
}

.theme-9 {
  .figure-results {
    &__slide {
      background-color: map-deep-get($themes, '9', 'background');
    }
  }
}

@media (min-width: $tablet-min-width) {
  .figure-results {
    .slider {
      &__button {
        top: 21rem;
      }
    }

    .massage-results {
      &__slide-title {
        max-width: 35rem;
      }
    }
  }
}

@media (min-width: $s-desktop-min-width) {
  .figure-results {
    &__slider {
      max-width: initial;
    }

    .slider {
      &__button {
        top: 50%;
      }
    }

    .massage-results {
      &__slide-title {
        position: absolute;
        top: 2rem;
        right: 0;

        width: 24rem;
      }

      &__before,
      &__after {
        width: 28%;
      }

      &__before {
        margin-left: 2%;
        margin-right: 18%;
      }

      &__photo {
        &::before {
          content: none;
        }
      }

      &__link {
        top: 7rem;

        min-width: 20rem;
      }
    }

    &__description {
      @include reset-indents();

      position: absolute;
      left: 33%;

      max-width: 16rem;

      font-size: 1.3rem;

      &::before,
      &_one::after {
        content: '';
        position: absolute;
        z-index: 1;

        height: 0.1rem;

        background-color: $light-dim-color;
      }

      &_one {
        top: 4.5vw;

        max-width: 12rem;

        &::before,
        &::after {
          top: 1.5rem;
          right: calc(100% + 1rem);

          width: 20vw;

          transform: rotate(-45deg);
          transform-origin: right top;
        }

        &::after {
          width: 28vw;

          transform: rotate(-40deg);
        }
      }

      &_two {
        top: 14vw;

        &::before {
          top: 8rem;
          left: calc(100% - 2rem);

          width: 12vw;

          transform: rotate(25deg);
          transform-origin: left top;
        }
      }
    }

    &__slide {
      position: relative;

      padding: 0;

      &_2 {
        .massage-results {
          &__before {
            margin-right: 20%;
          }

          &__after {
            width: 25.8%;
          }
        }

        .figure-results {
          &__description {
            max-width: 17rem;

            &_one {
              &::before,
              &::after {
                content: none;
              }
            }

            &_two {
              top: 10vw;

              &::before {
                top: auto;
                right: 70%;
                bottom: -0.2rem;
                left: auto;

                width: 10vw;

                transform: rotate(-25deg);
                transform-origin: right top;
              }
            }

            &_three {
              top: 23vw;

              max-width: 16rem;

              &::before {
                top: 90%;
                left: 80%;

                width: 9vw;

                transform: rotate(15deg);
              }
            }
          }
        }
      }
    }

    &__slide:not(.figure-results__slide_1):not(.figure-results__slide_2) {
      .massage-results__slide-title {
        top: 4rem;
      }

      .massage-results__link {
        top: 8rem;
      }
    }
  }
}

@media (min-width: $desktop-min-width) {
  .figure-results {
    &__slider {
      padding: 0 6rem;
    }

    &__slides {
      position: relative;
    }

    .massage-results {
      &__photos {
        padding: 0 1rem;
      }

      &__before,
      &__after {
        width: 30%;
      }

      &__slide-title {
        top: 4rem;

        width: 22rem;
      }

      &__link {
        top: 8rem;
        right: 2rem;
      }
    }

    &__description {
      left: 35%;

      max-width: 17rem;

      font-size: 1.4rem;

      &_one {
        top: 6rem;

        max-width: 14rem;

        &::before,
        &::after {
          top: 2rem;
        }

        &::before {
          width: 24rem;

          transform: rotate(-42deg);
        }

        &::after {
          width: 34rem;

          transform: rotate(-38deg);
        }
      }

      &_two {
        top: 17rem;

        &::before {
          top: 8rem;
          left: calc(100% - 2rem);

          width: 13rem;

          transform: rotate(25deg);
          transform-origin: left top;
        }
      }
    }

    &__slide {
      &_2 {
        .massage-results {
          &__before,
          &__after {
            width: 28%;
          }
        }

        .figure-results {
          &__description {
            left: 33%;

            max-width: 18rem;

            &_two {
              top: 12rem;
            }

            &_three {
              top: 27rem;

              max-width: 17rem;

              &::before {
                width: 10.5rem;
              }
            }
          }
        }
      }
    }

    &__slide:not(.figure-results__slide_1):not(.figure-results__slide_2) {
      .massage-results__slide-title {
        right: 2rem;
      }

      .massage-results__link {
        right: 4rem;
      }
    }
  }
}
